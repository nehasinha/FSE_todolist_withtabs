<h1> Search task </h1>


<% form_tag :action=>'list_all_tasks', :list_id => @list.id, :counter => @counter, :method => 'get' do %>
<p>
  <%= text_field_tag :search , params[:search] %>
  <%= submit_tag "Search"  , :name => nil %>
</p>
<% end %>


<table border="1"  cellpadding = 10>

   <tr class="header">
       <th>Task Name</th>
       <th>Completion Date</th>
   </tr>

 <%#   <% @tasks = Task.find(list.id = :list_id) %>
    <%#<% @tasks = @list.tasks.find(:all, :conditions => ['list_id = ', "%#{params[:list_id]}%"]) %>




  <% @task.each do |task| %>
      <tr>
      <td><%= "#{task.description}" %></td>
      <td><%= "#{task.date}" %></td>
    </tr>

   <% end %>







 <%# <% @task = @list.tasks.find(:all, params[:list_id]) %>
  <%#<% if params[:counter].to_i > 1 %>
  <%#    <% @task = @task.find(:all, :conditions => ['description LIKE ?', params[:search]])  %>
  <%#<% end %>
  <%#<% @task.each do |task| %>
  <%#    <tr>
      <td><%= "#{task.description}" %>
  <%#</td>
      <td><%= "#{task.date}" %>
  <%#</td>
    </tr>
    <% params[:counter] = 2 %>
    <%#<%= link_to "Edit"         , :action => 'edit', :id => "#{task.id}" %>
    <%#%= link_to "Delete",:id => "#{task.id}" ,:action => :destroy %>


 <%# <%end%>
</table>